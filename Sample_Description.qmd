---
title: "Sample Description"
format: html
editor: visual
---

# Sample Description

```{r message=FALSE, echo=FALSE, warning=FALSE}
library(readxl)
library(scorekeeper)
library(tidyverse)

dem_pre_scoresheet <-
read_excel("Demographics/Demographics_preschedule.xlsx")
raw_pre_data <-
read.csv("Demographics/demographics_pre_data.csv")

dem_pre_data <-
scorekeep(raw_pre_data, dem_pre_scoresheet)[[4]] 
```

```{r message=FALSE, echo=FALSE, warning=FALSE}
##demographics postscheduled##

raw_post_data <-
  read_csv("Demographics/Demographics_post_data.csv")

dem_post_scoresheet <-
  read_excel("Demographics/Demographics_postschedule.xlsx")

dem_post_data <-
  scorekeep(raw_post_data, dem_post_scoresheet)[[5]]

```

```{r message=FALSE, echo=FALSE, warning=FALSE}
dem_data <- full_join(dem_pre_data, dem_post_data)
dem_data$dcf_age <- as.Date(dem_data$dcf_age, format = "%m/%d/%y")
dem_data$dcf_date <- as.Date(dem_data$dcf_date, format = "%m/%d/%y")
dem_data$age <- floor(as.numeric(difftime(dem_data$dcf_date, dem_data$dcf_age, units = "days")) / 365.25)
```

```{r message=FALSE, echo=FALSE, warning=FALSE}
bam_data <- subset(dem_data, dcf_group == 1)

bam_white <- round((mean(bam_data$dcf_race == 1, na.rm = TRUE) * 100), 2)
bam_black <- round((mean(bam_data$dcf_race == 2, na.rm = TRUE) * 100), 2)
bam_asian <- round((mean(bam_data$dcf_race == 3, na.rm = TRUE) * 100), 2)
bam_native <- round((mean(bam_data$dcf_race == 4, na.rm = TRUE) * 100), 2)
bam_hispanic <- round((mean(bam_data$dcf_race == 5, na.rm = TRUE) * 100), 2)
bam_pacific <- round((mean(bam_data$dcf_race == 6, na.rm = TRUE) * 100), 2)

bam_women <- round((mean(bam_data$dcf_research_gender == 2, na.rm = TRUE) * 100), 2)

bam_heterosexual <- round((mean(bam_data$dcf_research_sexual == 1, na.rm = TRUE) * 100), 2)
bam_homosexual <- round((mean(bam_data$dcf_research_sexual == 2, na.rm = TRUE) * 100), 2)
bam_bisexual <- round((mean(bam_data$dcf_research_sexual == 3, na.rm = TRUE) * 100), 2)


bam_student <- round((mean(bam_data$dcf_student == 1, na.rm = TRUE) * 100), 2)
```

```{r message=FALSE, echo=FALSE, warning=FALSE}
bp_data <- subset(dem_data, dcf_group == 0)
bp_white <- round((mean(bp_data$dcf_race == 1, na.rm = TRUE) * 100), 2)
bp_black <- round((mean(bp_data$dcf_race == 2, na.rm = TRUE) * 100), 2)
bp_asian <- round((mean(bp_data$dcf_race == 3, na.rm = TRUE) * 100), 2)
bp_native <- round((mean(bp_data$dcf_race == 4, na.rm = TRUE) * 100), 2)
bp_hispanic <- round((mean(bp_data$dcf_race == 5, na.rm = TRUE) * 100), 2)
bp_pacific <- round((mean(bp_data$dcf_race == 6, na.rm = TRUE) * 100), 2)

bp_women <- round((mean(bp_data$dcf_research_gender == 2, na.rm = TRUE) * 100), 2)

bp_heterosexual <- round((mean(bp_data$dcf_research_sexual == 1, na.rm = TRUE) * 100), 2)
bp_homosexual <- round((mean(bp_data$dcf_research_sexual == 2, na.rm = TRUE) * 100), 2)
bp_bisexual <- round((mean(bp_data$dcf_research_sexual == 3, na.rm = TRUE) * 100), 2)

bp_student <- round((mean(bp_data$dcf_student == 1, na.rm = TRUE) * 100), 2)
```

```{r message=FALSE, echo=FALSE, warning=FALSE}
age_excluded <- dem_data$age[-15]
mean_age <- round(mean(age_excluded, na.rm = TRUE), 2)
excluded_data <- dem_data[-15, ]
oldest_age <- max(excluded_data$age, na.rm = TRUE)
youngest_age <- min(excluded_data$age, na.rm = TRUE)


percent_white <- round((mean(dem_data$dcf_race == 1, na.rm = TRUE) * 100), 2)
percent_black <- round((mean(dem_data$dcf_race == 2, na.rm = TRUE) * 100), 2)
percent_asian <- round((mean(dem_data$dcf_race == 3, na.rm = TRUE) * 100), 2)
percent_native <- round((mean(dem_data$dcf_race == 4, na.rm = TRUE) * 100), 2)
percent_hispanic <- round((mean(dem_data$dcf_race == 5, na.rm = TRUE) * 100), 2)
percent_pacific <- round((mean(dem_data$dcf_race == 6, na.rm = TRUE) * 100), 2)

percent_women <- round((mean(dem_data$dcf_research_gender == 2, na.rm = TRUE) * 100), 2)

percent_heterosexual <- round((mean(dem_data$dcf_research_sexual == 1, na.rm = TRUE) * 100), 2)
percent_homosexual <- round((mean(dem_data$dcf_research_sexual == 2, na.rm = TRUE) * 100), 2)
percent_bisexual <- round((mean(dem_data$dcf_research_sexual == 3, na.rm = TRUE) * 100), 2)

percent_student <- round((mean(dem_data$dcf_student == 1, na.rm = TRUE) * 100), 2)
sum_student <- sum(dem_data$dcf_student, na.rm = TRUE)
```

Participants (N = 66) were randomly assigned to either the BAM (N=38) or the Body Project (N=28) intervention. Of these, 29 attended the interventions virtually (BAM: N=14, BP: N=15) beginning 10/20 and ending 02/22 due to the pandemic and 37 attended in-person sessions (BAM: N=24, BP: N=13) between 03/22 to 04/23. Participants ranged in age from `r youngest_age` -- `r oldest_age` years with the average age being `r mean_age` years. Participants were mostly women (`r percent_women`%) and and the most commonly reported race was White (N = `r percent_white`%). Furthermore, the majority of participants identified as heterosexual (`r percent_heterosexual`%) followed by bisexual (`r percent_bisexual`%). At the time of the intervention, `r sum_student` participants reported being students. For a study flow diagram, see figure Y.

| Col1          | Col2 | Col3 |
|---------------|------|------|
| `r bp_native` |      |      |
|               |      |      |
|               |      |      |
